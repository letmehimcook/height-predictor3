import streamlit as st
import random

st.set_page_config(page_title="Health & Height Predictor Pro", page_icon="üèãÔ∏è‚Äç‚ôÇÔ∏è")

# ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß
st.markdown("<h1 style='text-align:center; color:#2e86de;'>üèãÔ∏è‚Äç‚ôÇÔ∏è ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h1>", unsafe_allow_html=True)

st.divider()

# ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
st.subheader("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì")

father_h = st.number_input("‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏Ñ‡∏∏‡∏ì‡∏û‡πà‡∏≠ (‡∏ã‡∏°.)", min_value=0.0, step=0.1)
mother_h = st.number_input("‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà (‡∏ã‡∏°.)", min_value=0.0, step=0.1)
self_h = st.number_input("‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏ã‡∏°.)", min_value=0.0, step=0.1)
weight = st.number_input("‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏Å‡∏Å.)", min_value=0.0, step=0.1)

gender = st.radio("‡πÄ‡∏û‡∏®‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì", ["‡∏ä‡∏≤‡∏¢ ‚ôÇ", "‡∏´‡∏ç‡∏¥‡∏á ‚ôÄ"])

# ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
if st.button("‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå"):
    try:
        # 1. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì MPH ‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
        if gender == "‡∏ä‡∏≤‡∏¢ ‚ôÇ":
            target_h = (father_h + mother_h + 13) / 2
        else:
            target_h = (father_h + mother_h - 13) / 2

        # 2. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì BMI
        bmi = weight / ((self_h / 100) ** 2)

        # 3. ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° BMI
        if bmi < 18.5:
            status = "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (Underweight)"
            color = "#3498db"
            advices = [
                "‡πÄ‡∏ô‡πâ‡∏ô‡∏ó‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏ß‡∏•‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠",
                "‡∏ó‡∏≤‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏î‡∏∑‡πà‡∏°‡∏ô‡∏°‡πÅ‡∏Ñ‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏™‡∏π‡∏á",
                "‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡πÅ‡∏£‡∏á‡∏ï‡πâ‡∏≤‡∏ô (Weight Training) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠"
            ]
        elif 18.5 <= bmi < 23:
            status = "‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô (Normal)"
            color = "#2ecc71"
            advices = [
                "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ! ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 5 ‡∏´‡∏°‡∏π‡πà‡∏ï‡πà‡∏≠‡πÑ‡∏õ",
                "‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞ 150 ‡∏ô‡∏≤‡∏ó‡∏µ",
                "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢"
            ]
        elif 23 <= bmi < 25:
            status = "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô (Overweight)"
            color = "#f1c40f"
            advices = [
                "‡∏•‡∏î‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏î‡∏•‡∏° ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏±‡∏Å‡∏ú‡∏•‡πÑ‡∏°‡πâ",
                "‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥ Cardio 30 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô",
                "‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô"
            ]
        else:
            status = "‡πÇ‡∏£‡∏Ñ‡∏≠‡πâ‡∏ß‡∏ô (Obese)"
            color = "#e67e22"
            advices = [
                "‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏≠‡∏î‡πÅ‡∏•‡∏∞‡∏°‡∏±‡∏ô",
                "‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡πÅ‡∏£‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å",
                "‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô"
            ]

        # ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
        st.subheader("‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå")

        st.markdown(
            f"<h3 style='color:#2c3e50;'>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: {target_h:.1f} ‡∏ã‡∏°.</h3>",
            unsafe_allow_html=True
        )

        st.markdown(
            f"<h3 style='color:{color};'>BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: {bmi:.1f} ‚Äî {status}</h3>",
            unsafe_allow_html=True
        )

        selected_advice = random.choice(advices)

        st.info(
            f"""
            ### ‡∏ú‡∏•‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û  
            {selected_advice}

            **‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á:** ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÄ‡∏ä‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 15‚Äì20 ‡∏ô‡∏≤‡∏ó‡∏µ  
            **‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö Growth Hormone:** ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ô‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô 22:00 ‡∏ô.  
            """
        )

    except ZeroDivisionError:
        st.error(" ‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå")
    except:
        st.error(" ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")

        st.markdown("<h5>‡πÄ‡∏î‡πá‡∏Å‡∏ä‡∏≤‡∏¢ ‡πÄ‡∏ó‡∏û‡∏≤‡∏ò‡∏¥‡∏õ ‡∏ö‡∏±‡∏ì‡∏ë‡∏¥‡∏ï ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 18</h5>", unsafe_allow_html=True)
    
